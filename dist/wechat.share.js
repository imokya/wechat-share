!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.WechatShare=t():e.WechatShare=t()}(self,(()=>{return e={144:function(e,t){var n,a;n=function(e,t){"use strict";var n=5e3,a="callback";function o(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function i(e){try{delete window[e]}catch(t){window[e]=void 0}}function r(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=e,c=t.timeout||n,u=t.jsonpCallback||a,d=void 0;return new Promise((function(n,a){var l=t.jsonpCallbackFunction||o(),p=u+"_"+l;window[l]=function(e){n({ok:!0,json:function(){return Promise.resolve(e)}}),d&&clearTimeout(d),r(p),i(l)},s+=-1===s.indexOf("?")?"?":"&";var h=document.createElement("script");h.setAttribute("src",""+s+u+"="+l),t.charset&&h.setAttribute("charset",t.charset),t.nonce&&h.setAttribute("nonce",t.nonce),t.referrerPolicy&&h.setAttribute("referrerPolicy",t.referrerPolicy),h.id=p,document.getElementsByTagName("head")[0].appendChild(h),d=setTimeout((function(){a(new Error("JSONP request to "+e+" timed out")),i(l),r(p),window[l]=function(){i(l)}}),c),h.onerror=function(){a(new Error("JSONP request to "+e+" failed")),i(l),r(p),d&&clearTimeout(d)}}))}},void 0===(a=n.apply(t,[t,e]))||(e.exports=a)},607:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(634));t.default=o.default},634:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(144)),i={debug:!1,wxURL:"//res.wx.qq.com/open/js/jweixin-1.6.0.js",apiURL:"https://auth.xinapp.net/jssdk/api.php",jsApiList:["updateAppMessageShareData","updateTimelineShareData","onMenuShareWeibo"]},r={title:"分享标题",desc:"分享描述",link:location.href},s={config:i,data:r};t.default=class{constructor(e=s){const t=Object.assign({},i,null==e?void 0:e.config),n=Object.assign({},r,null==e?void 0:e.data);this._params={config:t,data:n},this._init()}_init(){this._loadScript()}_loadScript(){const e=this._params.config,t=document.createElement("script");t.src=e.wxURL||"",t.onload=e=>{this._getAuthData()},document.body.appendChild(t)}_getAuthData(){const e=this._params.config,t=encodeURIComponent(location.href.split("#")[0]);(0,o.default)(`${e.apiURL}?url=${t}`||"").then((e=>e.json())).then((e=>{this._initShare(e)}))}_initShare(e){const t=this._params.config,n={debug:t.debug,jsApiList:t.jsApiList,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature};null===wx||void 0===wx||wx.config(n),null===wx||void 0===wx||wx.ready((()=>{const e=this._params.data;wx.updateAppMessageShareData(e),wx.updateTimelineShareData(e),wx.onMenuShareWeibo(e)}))}shareToFriend(e){const t=Object.assign({},this._params.data,e);null===wx||void 0===wx||wx.updateAppMessageShareData(t)}shareToTimeline(e){const t=Object.assign({},this._params.data,e);null===wx||void 0===wx||wx.updateTimelineShareData(t)}shareToWeibo(e){const t=Object.assign({},this._params.data,e);null===wx||void 0===wx||wx.onMenuShareWeibo(t)}}}},t={},function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,n),i.exports}(607).default;var e,t}));